(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c491030a","chunk-2d229b1d"],{3737:function(t,e,r){"use strict";r.r(e);var o={name:"Calculator",components:{ValueSelect:r("df16").default},props:{variable:{type:Object,default:()=>{}},optionMap:{type:Object,default:()=>{}},functionMap:{type:Object,default:()=>{}}},data:()=>({form:{colorPrice:0,orderCount:0,productWeight:0,craftOrder:1,craftPrice:1.13,modelHoleCount:0,formingCountPrice:0,arrangeCount:100,cartonPrice:0,packingCount:0,grindSize:0,pick:0,nL:0,nW:0,nH:0,nCount:0,nMateria:0,wL:0,wW:0,wH:0,wCount:0,wMateria:0,baffleCount:0,destinationCityOrder:1,destinationCity:1}}),computed:{factoryUnitPrice(){const t=this.colorFlag,e=this.form.craftPrice,r=this.productWeightFlag,o=this.form.modelHoleCount,n=this.form.formingCountPrice,i=this.craftAndWeightFlag,a=parseFloat(.1),l=this.form.arrangeCount,s=this.form.orderCount,c=this.form.cartonPrice,u=this.form.packingCount,m=this.form.grindSize,p=this.form.pick,f=this.craftFlag;return t*e*r/1e3+this.variable.liangGuangFenPrice*r*a/1e3+n/(i*o*this.variable.gongShi)+m+p*this.variable.fuZhuSunHao+c/u+(this.variable.huaZhi1/(s/l*(e+.05))+this.variable.huaZhi2/(s/l*(e+.05))+.625+.125*l+.4375)/l*(e+.05)*f},factoryDollarPrice(){let t=parseFloat(this.variable.huiLv);return this.factoryUnitPrice/t},FOBPrice(){let t=parseFloat(this.variable.huiLv);return((70*this.cubeCount+500+350+100+200+300+300+500)/this.form.orderCount+this.factoryUnitPrice)/t},ZTPrice(){let t=this.form.wL,e=this.form.wW,r=this.form.wH,o=this.form.wCount,n=this.getPrice1(t,e,r,o,this.form.orderCount),i=parseFloat(n),a=this.getPrice2(t,e,r,o,this.form.orderCount),l=parseFloat(a),s="元"+this.getTransportDay();return(i>l?i:l).toFixed(0)+s},cartonUnitPrice(){let t=this.form.nL,e=this.form.nW,r=this.form.nH,o=this.form.nCount,n=this.form.wL,i=this.form.wW,a=this.form.wH,l=this.form.wCount;return((t+e+5)*(e+r+3)*2*1.55*this.form.nMateria/1e4*(l/o)*1.25+(n+i+5)*(i+a+3)*2*1.55*this.form.wMateria/1e4*1.25+1.25+(t+3)*(e+3)*1.55*1.54*1.25/1e4*this.form.baffleCount).toFixed(2)},cubeCount(){let t=this.form.wL,e=this.form.wW,r=this.form.wH,o=this.form.wCount;return t*e*r/1e6*(this.form.orderCount/o+1)},craftFlag(){let t=this.form.craftOrder;return 1==t||2==t||3==t?0:1},craftAndWeightFlag(){let t=this.form.craftOrder,e=this.form.productWeight,r=0;const o=this.functionMap.quJianZhiRiChanLiangFun+"return value";return r=new Function("value","craftOrder","weight",o)(r,t,e),r},colorFlag(){let t=this.form.colorPrice;return this.form.orderCount*this.productWeightFlag>this.variable.yuanLiaoQiDingLiang&&this.form.colorPrice===this.youSePrice&&(t=this.variable.yuanLiaoQiDingLiangDanJia),t},productWeightFlag(){let t=this.form.productWeight;const e=this.functionMap.chanPinZhongLiangFun+"return value";return t=new Function("value",e)(t),t},youSePrice(){let t=this.optionMap.colorOptions.find(t=>"youSe"===t.key);return t?t.value:(alert("有色产品价格异常"),0)}},methods:{copy(t){this.TOOL.copyTextToClip(t,void 0,()=>{this.$tips("success","已拷贝到剪贴板")})},handleCraftChange(t){let e=this.craftOptions.findIndex(e=>e.value===t);this.form.craftOrder=e+1},getPrice1(t,e,r,o,n){const i=(this.form.productWeight*o/1e3+1.6)*(n/o+1),a=this.form.destinationCityOrder-1,l=this.optionMap.destinationCityOptions[a];let s=0;return i<300?s=l.less300:i<500?s=l.less500:i<1e3?s=l.less1000:i>=1e3&&(s=l.more1000),s*i*1.1},getPrice2(t,e,r,o,n){let i=t*e*r/5e3*(n/o+1);const a=this.form.destinationCityOrder-1,l=this.optionMap.destinationCityOptions[a];let s=0;return i<300?s=l.less300:i<500?s=l.less500:i<1e3?s=l.less1000:i>=1e3&&(s=l.more1000),s*i*1.1},getTransportDay(){const t=this.form.destinationCityOrder-1;return this.optionMap.destinationCityOptions[t].time||"0天"}}},n=(r("c344"),r("2877")),i=Object(n.a)(o,(function(){var t=this,e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"calculator shadow-md rounded"},[o("el-form",{ref:"form",staticClass:"w-px-350",attrs:{model:e.form,"label-width":"140px"}},[o("el-form-item",{attrs:{label:"产品颜色："}},[o("ValueSelect",{attrs:{value:e.form.colorPrice,options:e.optionMap.colorOptions},on:{"update:value":function(t){return e.$set(e.form,"colorPrice",t)}}})],1),o("el-form-item",{attrs:{label:"工艺名称："}},[o("ValueSelect",{attrs:{value:e.form.craftPrice,options:e.optionMap.craftOptions,order:this.form.craftOrder},on:{"update:value":function(t){return e.$set(e.form,"craftPrice",t)},onOrder:function(e){return t.form.craftOrder=e}}})],1),o("el-form-item",{attrs:{label:"订单数量："}},[o("ValueSelect",{attrs:{value:e.form.orderCount,options:e.optionMap.orderCountOptions},on:{"update:value":function(t){return e.$set(e.form,"orderCount",t)}}})],1),o("el-form-item",{attrs:{label:"产品重量："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.productWeight,callback:function(t){e.$set(e.form,"productWeight",e._n(t))},expression:"form.productWeight"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("kg")])])],2)],1),o("el-form-item",{attrs:{label:"产品模穴："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.modelHoleCount,callback:function(t){e.$set(e.form,"modelHoleCount",e._n(t))},expression:"form.modelHoleCount"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("个")])])],2)],1),o("el-form-item",{attrs:{label:"成型人数："}},[o("ValueSelect",{attrs:{value:e.form.formingCountPrice,options:e.optionMap.formingCountOptions},on:{"update:value":function(t){return e.$set(e.form,"formingCountPrice",t)}}})],1),o("el-form-item",{attrs:{label:"排版个数："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.arrangeCount,callback:function(t){e.$set(e.form,"arrangeCount",e._n(t))},expression:"form.arrangeCount"}})],1),o("el-form-item",{attrs:{label:"纸箱单价："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.cartonPrice,callback:function(t){e.$set(e.form,"cartonPrice",e._n(t))},expression:"form.cartonPrice"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("元")])])],2)],1),o("el-form-item",{attrs:{label:"装箱个数："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.packingCount,callback:function(t){e.$set(e.form,"packingCount",e._n(t))},expression:"form.packingCount"}})],1),o("el-form-item",{attrs:{label:"研磨尺寸："}},[o("ValueSelect",{attrs:{value:e.form.grindSize,options:e.optionMap.grindSizeOptions},on:{"update:value":function(t){return e.$set(e.form,"grindSize",t)}}})],1),o("el-form-item",{attrs:{label:"其它包材费用："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.pick,callback:function(t){e.$set(e.form,"pick",e._n(t))},expression:"form.pick"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("元")])])],2)],1),o("el-form-item",{attrs:{label:"出厂单价："}},[o("el-input",{attrs:{value:e.factoryUnitPrice.toFixed(2)+"元",disabled:!0}},[o("template",{slot:"append"},[o("i",{staticClass:"el-icon-document-copy pointer",on:{click:function(t){e.copy(e.factoryUnitPrice.toFixed(2)+"元")}}})])],2)],1),o("el-form-item",{attrs:{label:"出厂美金价格："}},[o("el-input",{attrs:{value:"$"+e.factoryDollarPrice.toFixed(2),disabled:!0}},[o("template",{slot:"append"},[o("i",{staticClass:"el-icon-document-copy pointer",on:{click:function(t){e.copy("$"+e.factoryDollarPrice.toFixed(2))}}})])],2)],1),o("el-form-item",{attrs:{label:"内箱长度："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.nL,callback:function(t){e.$set(e.form,"nL",e._n(t))},expression:"form.nL"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("cm")])])],2)],1),o("el-form-item",{attrs:{label:"内箱宽度："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.nW,callback:function(t){e.$set(e.form,"nW",e._n(t))},expression:"form.nW"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("cm")])])],2)],1),o("el-form-item",{attrs:{label:"内箱高度："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.nH,callback:function(t){e.$set(e.form,"nH",e._n(t))},expression:"form.nH"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("cm")])])],2)],1),o("el-form-item",{attrs:{label:"内箱装数："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.nCount,callback:function(t){e.$set(e.form,"nCount",e._n(t))},expression:"form.nCount"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("个")])])],2)],1),o("el-form-item",{attrs:{label:"外箱长度："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.wL,callback:function(t){e.$set(e.form,"wL",e._n(t))},expression:"form.wL"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("cm")])])],2)],1),o("el-form-item",{attrs:{label:"外箱宽度："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.wW,callback:function(t){e.$set(e.form,"wW",e._n(t))},expression:"form.wW"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("cm")])])],2)],1),o("el-form-item",{attrs:{label:"外箱高度："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.wH,callback:function(t){e.$set(e.form,"wH",e._n(t))},expression:"form.wH"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("cm")])])],2)],1),o("el-form-item",{attrs:{label:"外箱装数："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.wCount,callback:function(t){e.$set(e.form,"wCount",e._n(t))},expression:"form.wCount"}},[o("template",{slot:"append"},[o("div",{staticClass:"w-px-22 text-center"},[e._v("个")])])],2)],1),o("el-form-item",{attrs:{label:"内箱材质："}},[o("ValueSelect",{attrs:{value:e.form.nMateria,options:e.optionMap.nMaterialOptions,order:3},on:{"update:value":function(t){return e.$set(e.form,"nMateria",t)}}})],1),o("el-form-item",{attrs:{label:"外箱材质："}},[o("ValueSelect",{attrs:{value:e.form.wMateria,options:e.optionMap.wMaterialOptions,order:9},on:{"update:value":function(t){return e.$set(e.form,"wMateria",t)}}})],1),o("el-form-item",{attrs:{label:"隔板个数："}},[o("el-input",{attrs:{type:"number",min:0},model:{value:e.form.baffleCount,callback:function(t){e.$set(e.form,"baffleCount",e._n(t))},expression:"form.baffleCount"}})],1),o("el-form-item",{attrs:{label:"纸箱单价："}},[o("el-input",{attrs:{min:0,disabled:!0},model:{value:e.cartonUnitPrice,callback:function(t){e.cartonUnitPrice=e._n(t)},expression:"cartonUnitPrice"}},[o("template",{slot:"append"},[o("i",{staticClass:"el-icon-document-copy pointer",on:{click:function(t){return e.copy(e.cartonUnitPrice)}}})])],2)],1),o("el-form-item",{attrs:{label:"总货方数："}},[o("el-input",{attrs:{value:e.cubeCount.toFixed(2),disabled:!0}},[o("template",{slot:"append"},[o("i",{staticClass:"el-icon-document-copy pointer",on:{click:function(t){e.copy(e.cubeCount.toFixed(2))}}})])],2)],1),o("el-form-item",{attrs:{label:"FOB单价："}},[o("el-input",{attrs:{value:"$"+e.FOBPrice.toFixed(2)+"美金/个",disabled:!0}},[o("template",{slot:"append"},[o("i",{staticClass:"el-icon-document-copy pointer",on:{click:function(t){e.copy(e.FOBPrice.toFixed(2))}}})])],2)],1),o("el-form-item",{attrs:{label:"物流城市："}},[o("ValueSelect",{attrs:{value:e.form.destinationCity,options:e.optionMap.destinationCityOptions,order:e.form.destinationCityOrder},on:{"update:value":function(t){return e.$set(e.form,"destinationCity",t)},onOrder:function(e){return t.form.destinationCityOrder=e}}})],1),o("el-form-item",{attrs:{label:"中通运费："}},[o("el-input",{attrs:{value:e.ZTPrice,disabled:!0}},[o("template",{slot:"append"},[o("i",{staticClass:"el-icon-document-copy pointer",on:{click:function(t){return e.copy(e.ZTPrice)}}})])],2)],1)],1)],1)}),[],!1,null,"2535f59a",null);e.default=i.exports},8260:function(t,e,r){},c344:function(t,e,r){"use strict";r("8260")},df16:function(t,e,r){"use strict";r.r(e);var o={name:"ValueSelect",props:{value:{type:Number,default:0},options:{type:Array,default:()=>[]},order:{type:Number,default:1}},data:()=>({selectIndex:-1}),watch:{order:{handler(t){let e=t-1;this.selectIndex!==e&&(this.selectIndex=this.options[e]?e:0,this.handleChange())},immediate:!0}},methods:{handleChange(){let t=this.options[this.selectIndex];Object.prototype.hasOwnProperty.call(t,"value")?(this.$emit("update:value",parseFloat(t.value)),this.$emit("onOrder",this.selectIndex+1)):console.error("options数组内对象，不存在value属性，无法选中。")}}},n=r("2877"),i=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-select",{staticClass:"value-select",on:{change:t.handleChange},model:{value:t.selectIndex,callback:function(e){t.selectIndex=e},expression:"selectIndex"}},t._l(t.options,(function(t,e){return r("el-option",{key:e,attrs:{label:t.label,value:e}})})),1)}),[],!1,null,"9f88fe1c",null);e.default=i.exports}}]);